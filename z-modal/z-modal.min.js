/**
 * Z-MODAL by Benjamin Caradeuc (benjamin@caradeuc.info)
 * benavern.github.io
**/
(function(){this.ZMODAL=function(){this.closeBtn=null;this.modal=null;this.btns=[];var d={className:"",title:"Z-MODAL",content:'<h1>Congratulations!!!</h1>          <p>You are using the realy awesome Z-Modal javascript plugin. <b>Thank You!</b></p>          <p>Author: <a href="http://caradeuc.info/">Benjamin Caradeuc</a></p>',showOverlay:true,autoload:true,closeBtn:true,onClose:null,buttons:[{label:"ok",className:"",half:false,callback:function(){console.log("Thank you for using Z-Modal plugin.")}}]};if(arguments[0]&&typeof arguments[0]==="object"){this.options=b(d,arguments[0])}else{this.options=d}if(this.options.autoload===true){this.open.call(this)}};function b(f,e){var d=f;for(var g in e){if(e.hasOwnProperty(g)){d[g]=e[g]}}return d}function c(){var d;_this=this;if(typeof this.options.content==="string"){d=this.options.content}else{if(!!this.options.content){d=this.options.content.innerHTML}else{d=""}}this.modal=document.createElement("div");this.modal.className="z-modal "+this.options.className;if(this.options.showOverlay){a(this.modal,"click",function(){_this.close.call(_this)},true);this.modal.classList.add("overlay")}var g=document.createElement("div");g.className="z-modal-box";this.modal.appendChild(g);if(!!this.options.title){var k=document.createElement("div");k.className="z-modal-header";var h=document.createElement("div");h.className="z-modal-title";h.innerHTML=this.options.title;k.appendChild(h);this.closeBtn=document.createElement("div");this.closeBtn.className="z-modal-close";this.closeBtn.innerHTML="&#215;";a(this.closeBtn,"click",function(){_this.close.call(_this)});k.appendChild(this.closeBtn);g.appendChild(k)}if(!!d){var f=document.createElement("div");f.className="z-modal-content";f.innerHTML=d;g.appendChild(f)}if(this.options.buttons.length){var j=document.createElement("div");j.className="z-modal-footer";for(var e=0;e<this.options.buttons.length;e++){(function(m){var n=_this.options.buttons[m];var l=document.createElement("div");l.className="z-modal-btn";if(n.className&&n.className.length>0){l.classList.add(n.className)}l.innerHTML=n.label;if(n.half===true){l.classList.add("z-modal-btn-half")}a(l,"click",function(){_this.close.call(_this,_this.options.buttons[m].callback)});j.appendChild(l)})(e)}g.appendChild(j)}document.body.appendChild(this.modal)}function a(g,d,f,e){var h=this;g.addEventListener(d,function(i){if(e===true){if(i.target==this){f()}}else{f()}},false)}this.ZMODAL.prototype.open=function(){if(ZMODAL.__instance){return ZMODAL.__instance}c.call(this);ZMODAL.__instance=this};this.ZMODAL.prototype.close=function(d){if(!ZMODAL.__instance){return null}if(typeof d==="function"){d()}else{if(typeof this.options.onClose==="function"){this.options.onClose()}}ZMODAL.__instance=null;this.modal.parentNode.removeChild(this.modal)}}());